\documentclass[../main.tex]{subfiles}

\begin{document}


\section{Discussion}
\label{section:analysis:limitations}
\par Now that we have covered the security of LAUXUS, we can look at its limitations. As we have already covered the security limitations in the previous section, we will focus more on the functionalities limitations.
\begin{itemize}
    \item \textbf{File size:} There is a maximum size to the files that LAUXUS can manage. This limitation is caused by the fact that we load the entire Filenode metadata structure in memory (more precisely on the Heap). As the file becomes larger, it is composed of more blocks and thus of more block keys stored inside the metadata structure\footnote{20 MB File with 4KB block -> 5000 block keys of 32B -> metadata structure of 160KB.}. Of course, this problem can be temporally solved by either increasing the Heap size or increasing the block size (which is by default to 4KB). A more permanent solution would be to use pagination on the block keys of the metadata structure.
    \item \textbf{User database size:} Following the same reasoning as above, we see that we are limited in the number of users registered inside our Filesystem. Furthermore, the supernode stays in memory during the whole time the Filesystem is running. This means that it also limits the size of the files we can load (Cfr. explanation above). To cope with this we can first discard from memory the user database once the user is logged. Second, we can also use pagination inside the users' database.
    \item \textbf{UUID generation:} There may be a collision when generating the UUIDs for the users or the files. Indeed, all the UUIDs are randomly generated. However, each UUID is composed of 64 bits. This means that by following the birthday paradox, we have a 50\% chance of having a collision after generating $2^{32}$ UUIDs. Theoretically, it may not be the best idea but in practice, we will never encounter a collision as there are just too many permutations and not enough UUID generated.
    \item \textbf{Prompt action purpose:} Currently, there is no nice GUI to ask the user to provide the purpose of his action. Despite long research, I wasn't able to find a way to ask for the user purpose. As it was not the primary goal of this work (the goal was more to prove that the concept was feasible) I chose to let the purpose to be a static string. Once someone finds out how to ask for user input from LAUXUS, everything will be good to go as the backbone of handling user purpose is already implemented in the Application Facade. Another alternative might be to provide a purpose when we login into the Filesystem (the purpose stays the same throughout a "session").
    \item \textbf{Most important syscall implemented:} LAUXUS implements the most important syscall\footnote{open, create file/dir, read, write, release, truncate, delete file/dir, readdir, getattr} operation to have a working Filesystem. We didn't implement all the \textit{FUSE} system calls because most of them were out of the scope of our work\footnote{symlink, flush, link, chmod, chown, sync}. As the default behaviour of \textit{FUSE} is to through an error code when a call is not implemented (instead of acting as a pass-through), some program may not work (e.g: such as Git).
    \item \textbf{Persistence of the user entitlement:} Currently, when a user is revoked from the Filesystem, only the Supernode user database is updated, not the user entitlement of the files. We chose to do it this way because if we had to load and update all the nodes of the Filesystem when a user is revoked, we would incur a huge overhead to the revocation procedure which should be fast. As the user entitlement works with the user UUID, a new user might inherit the user entitlement of the previous user with the same UUID. However, as discussed above, this probability of a UUID collision is extremely low thus doesn't incur an important security threat. A way to decrease even further this "threat", is to write a small script that he is run before mounting LAUXUS that check the Filesystem structure and along the way correct the small incoherence (such as the when there is the UUID of a revoked user inside a file user entitlement).
    \item \textbf{Concurrent writing operation:} Currently, LAUXUS will end up in an incorrect state when there are concurrent updates on the same file (e.g: two users edit the same filesystem when offline and then upload them on the remote storage). Indeed, as we must update the IV of the metadata structure on each file update (cfr. Section \ref{section:lauxus:metadata_encryption}), if two users edit the same file at the same time, it will result in two different IV and classical merging algorithm won't be able to resolve this. The simplest solution to this is to use AES GCM SIV instead of AES GCM due to its nonce re-usability (cfr. Section \ref{section:lauxus:metadata_encryption}).
\end{itemize}


\end{document}