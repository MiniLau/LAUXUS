\documentclass[../main.tex]{subfiles}

\begin{document}

\section{Why is it a challenge ?}
\label{section:problem:why_a_challenge}

\par Now that we have seen the problem we wish to solve, an interested reader could ask himself why it is a challenge and why it is non trivial to implement. Especially with current widespread technologies. In this section, we will look at a naive solution and demonstrates its limits and thus proving the needs of using new technologies.
\par The solution could be to simply encrypt, with a secure key, the filesystem and then uploads it to a remote storage. When the owner wants to share this with someone else, he can simply give him the encryption key and the intended user can securely decrypt the content. This can easily be scaled up to any number of users to share with. Obviously, this has limitations:
\par \textbf{Access policy} becomes impossible using this approach. Once the owner transmits the encryption key to a user, this user can decrypt the entire filesystem. No granularity can be made by the owner. A possible workaround for creating this granularity is to encrypt each file with a unique different key. Thus transmitting then multiple keys when the filesystem is shared.
\par Beyond the scalability issues, this leads us to the \textbf{user revocation} problem. Indeed, the only way for the owner to revoke a user access is to generate a new key for each file the user had access to. The owner must then re-encrypt the entirety of the concerned files and transmits all the newly generated keys to the remaining authorized users. This means that the revocation procedure has a huge overhead, scaling up proportionally with the number of files the revocated user has access along with these files size.
\par Most of all, \textbf{encryption keys protection} is impossible in this situation. All the authorized users knows each of the keys they have been given and it us up to them to chose whether or not they want to share this key with others. This huge vulnerability can be solved thanks to Trusted Execution Environment (TEE) allowing, in this situation, the users to manipulate the encryption keys without knowing them. They are handled and saved inside the TEE that certifies that no users on this computer can retrieve them, even the root user of the computer. More specifically, in this project, we chose to leverage SGX Enclave as TEE.
\par Lastly \textbf{transparency} can only be achieved by using a layer intercepting IO system calls. In this way, the approach works no matter the user-space application the end user is using. This layer allows us to manipulate the data saved to disk however we want. This layer is the core mechanism of our solution allowing to make all required operation in order for our filesystem to be in the same time: confidential and auditable.

% ochestrate different how explain which technologies we want to use
% wait answer from etienne

\end{document} 